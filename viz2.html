---
layout: articles
title: Map
---


<link rel="shortcut icon" href="/favicon.ico">
<link rel="stylesheet" href="assets/tab1_network_site/tab1_network.css"/>
<link rel="stylesheet" href="assets/tab1_network_site/lib/jquery-ui.css">
<link rel="stylesheet" href="assets/tab1_network_site/lib/jquery.dataTables.min.css">
<link rel="stylesheet" href="assets/css/viz2.css">



<div id="dialog" title="Nature Tutorial">

<b>The Pokemons' nature</b>
    <p> In the battle, we definitely want to have Each Pokémon's 6 basic natures: HP, Attack, Defense, Special Attack, Special Defense and Speed as large as possible.
    </p>
        <b>Tiers</b>
    <p>
      We believe that a pokemon that is used more frequently is more useful. This usage rate is what the Tier stands for.
      The Tier of pokemons consists of values: 'Uber', 'RU', 'OU', 'UUBL','UU','RUBL', 'RU', 'NUBL', 'NU','PUBL', 'PU' and 'LC'. 
      Since 'Uber' represents the pokemons that are banned using and 'LC' represents the pokemons that are too weak to be taken into account 
      when players are arranging their teams, we only use the left tiers. Therefore, the left ones are 'OU', 'UUBL','UU','RUBL', 'RU','NUBL', 'NU','PUBL' and'PU', 
      where 'OU' represents the most frequently used ones and 'PU' the least. 
      Then, it is common to believe the total of 6 basic natures reveals a pokemon's power. A higher of total number is, a stronger pokemon is revealed. 
      Therefore, we want to visualize the relation between Tier and the total as follows. We can see it almost meets our expectations.
    </p>
    <b>The Tournaments</b>
    <p>
        The orange circle corresponds to the tournaments that host the ATP matches, the bigger its size, the more 
        matches the tournaments hosted.
     </p>
    <p> The map is <i>interactive</i>! Hover over the players and the tournaments to discover additional information.
        You can also zoom in to have a more precise look at some regions.
    </p>
</div>

<br><br>

<script src="assets/tab1_network_site/lib/jquery.min.js"></script>
<script src="assets/tab1_network_site/lib/jquery-3.6.0.js"></script>
<script src="assets/tab1_network_site/lib/jquery-ui.js"></script>
<script src="assets/tab1_network_site/lib/jquery.dataTables.min.js"></script>

<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script src="assets/js/d3.js"></script>
<script src="assets/js/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<body>
  <div id="chart"></div>
  <p> In the battle, we definitely want to have Each Pokémon's 6 basic natures: HP, Attack, Defense, Special Attack, Special Defense and Speed as large as possible.
</p>
    <b>Tiers</b>
<p>
  We believe that a pokemon that is used more frequently is more useful. This usage rate is what the Tier stands for.
  The Tier of pokemons consists of values: 'Uber', 'RU', 'OU', 'UUBL','UU','RUBL', 'RU', 'NUBL', 'NU','PUBL', 'PU' and 'LC'. 
  Since 'Uber' represents the pokemons that are banned using and 'LC' represents the pokemons that are too weak to be taken into account 
  when players are arranging their teams, we only use the left tiers. Therefore, the left ones are 'OU', 'UUBL','UU','RUBL', 'RU','NUBL', 'NU','PUBL' and'PU', 
  where 'OU' represents the most frequently used ones and 'PU' the least. 
  Then, it is common to believe the total of 6 basic natures reveals a pokemon's power. A higher of total number is, a stronger pokemon is revealed. 
  Therefore, we want to visualize the relation between Tier and the total as follows. We can see it almost meets our expectations.
</p>
<b>The Tournaments</b>
<p>
    The orange circle corresponds to the tournaments that host the ATP matches, the bigger its size, the more 
    matches the tournaments hosted.
 </p>
<p> The map is <i>interactive</i>! Hover over the players and the tournaments to discover additional information.
    You can also zoom in to have a more precise look at some regions.
</p>
</body>

<body>
    <div id="natures_distribution"></div>
  
    <script>
      // 从"pokemon-data-updated.csv"中获取数据
      d3.csv("pokemon-data-updated.csv").then(function(data) {
        // 选择Tier等于OU的行
        var ouData = data.filter(function(d) {
          return d.Tier === "OU";
        });
  
        // 提取所需的属性列
        var hpValues = ouData.map(function(d) {
          return +d.HP;
        });
        var attackValues = ouData.map(function(d) {
          return +d.Attack;
        });
        var defenseValues = ouData.map(function(d) {
          return +d.Defense;
        });
        var specialAttackValues = ouData.map(function(d) {
          return +d["Special Attack"];
        });
        var specialDefenseValues = ouData.map(function(d) {
          return +d["Special Defense"];
        });
        var speedValues = ouData.map(function(d) {
          return +d.Speed;
        });
  
        // 定义分布范围
        var ranges_hp = {
          "0-60": 0,
          "60-90": 0,
          "90-110": 0,
          "110+": 0
        };

        var ranges_attack = {
          "0-60": 0,
          "60-90": 0,
          "90-110": 0,
          "110+": 0
        };

        var ranges_defense = {
          "0-60": 0,
          "60-90": 0,
          "90-110": 0,
          "110+": 0
        };

        var ranges_spattack = {
          "0-60": 0,
          "60-90": 0,
          "90-110": 0,
          "110+": 0
        };

        var ranges_spdefense = {
          "0-60": 0,
          "60-90": 0,
          "90-110": 0,
          "110+": 0
        };

        var ranges_speed = {
          "0-60": 0,
          "60-90": 0,
          "90-110": 0,
          "110+": 0
        };
  
        // 统计各范围内的数量
        hpValues.forEach(function(value) {
          if (value <= 60) {
            ranges_hp["0-60"]++;
          } else if (value <= 90) {
            ranges_hp["60-90"]++;
          } else if (value <= 110) {
            ranges_hp["90-110"]++;
          } else {
            ranges_hp["110+"]++;
          }
        });

        attackValues.forEach(function(value) {
          if (value <= 60) {
            ranges_attack["0-60"]++;
          } else if (value <= 90) {
            ranges_attack["60-90"]++;
          } else if (value <= 110) {
            ranges_attack["90-110"]++;
          } else {
            ranges_attack["110+"]++;
          }
        });

        defenseValues.forEach(function(value) {
          if (value <= 60) {
            ranges_defense["0-60"]++;
          } else if (value <= 90) {
            ranges_defense["60-90"]++;
          } else if (value <= 110) {
            ranges_defense["90-110"]++;
          } else {
            ranges_defense["110+"]++;
          }
        });

        specialAttackValues.forEach(function(value) {
          if (value <= 60) {
            ranges_spattack["0-60"]++;
          } else if (value <= 90) {
            ranges_spattack["60-90"]++;
          } else if (value <= 110) {
            ranges_spattack["90-110"]++;
          } else {
            ranges_spattack["110+"]++;
          }
        });

        spDefenseValues.forEach(function(value) {
          if (value <= 60) {
            ranges_spdefense["0-60"]++;
          } else if (value <= 90) {
            ranges_spdefense["60-90"]++;
          } else if (value <= 110) {
            ranges_spdefense["90-110"]++;
          } else {
            ranges_spdefense["110+"]++;
          }
        });

        speedValues.forEach(function(value) {
          if (value <= 60) {
            ranges_speed["0-60"]++;
          } else if (value <= 90) {
            ranges_speed["60-90"]++;
          } else if (value <= 110) {
            ranges_speed["90-110"]++;
          } else {
            ranges_speed["110+"]++;
          }
        });
  
        // 将分布转换为绘图数据
        var plot_HP = Object.keys(ranges_hp).map(function(key) {
          return { label: key, value: ranges_hp[key] };
        });

        var plot_Attack = Object.keys(ranges_attack).map(function(key) {
          return { label: key, value: ranges_attack[key] };
        });

        var plot_Special_Attack = Object.keys(ranges_spattack).map(function(key) {
          return { label: key, value: ranges_spattack[key] };
        });

        var plot_Defense = Object.keys(ranges_defense).map(function(key) {
          return { label: key, value: ranges_defense[key] };
        });

        var plot_Special_Defense = Object.keys(ranges_spdefense).map(function(key) {
          return { label: key, value: ranges_spdefense[key] };
        });

        var plot_Speed = Object.keys(ranges_speed).map(function(key) {
          return { label: key, value: ranges_speed[key] };
        });
  
        // 创建饼图
        var data_HP = [{
          values: plot_HP.map(function(d) { return d.value; }),
          labels: plot_HP.map(function(d) { return d.label; }),
          type: "pie"
        }];

        var data_Attack = [{
          values: plot_Attack.map(function(d) { return d.value; }),
          labels: plot_Attack.map(function(d) { return d.label; }),
          type: "pie"
        }];

        var data_Defense = [{
          values: plot_Defense.map(function(d) { return d.value; }),
          labels: plot_Defense.map(function(d) { return d.label; }),
          type: "pie"
        }];

        var data_Special_Attack = [{
          values: plot_Special_Attack.map(function(d) { return d.value; }),
          labels: plot_Special_Attack.map(function(d) { return d.label; }),
          type: "pie"
        }];

        var data_Special_Defense = [{
          values: plot_Special_Defense.map(function(d) { return d.value; }),
          labels: plot_Special_Defense.map(function(d) { return d.label; }),
          type: "pie"
        }];

        var data_Speed = [{
          values: plot_Speed.map(function(d) { return d.value; }),
          labels: plot_Speed.map(function(d) { return d.label; }),
          type: "pie"
        }];
  
        var layout_HP = {
          title: "HP Distribution (OU Tier)",
          height: 600,
          width: 750
        };

        var layout_Attack = {
          title: "Attack Distribution (OU Tier)",
          height: 600,
          width: 750
        };

        
        var layout_Defense = {
          title: "Defense Distribution (OU Tier)",
          height: 600,
          width: 750
        };

        var layout_Special_Attack = {
          title: "Special Attack Distribution (OU Tier)",
          height: 600,
          width: 750
        };

        var layout_Special_Defense = {
          title: "Special Defense Distribution (OU Tier)",
          height: 600,
          width: 750
        };

        var layout_Speed = {
          title: "Speed Distribution (OU Tier)",
          height: 600,
          width: 750
        };
  
        
        Plotly.newPlot("HP_distribution", data_HP, layout_HP);
        Plotly.newPlot("Attack_distribution", data_Attack, layout_Attack);
        Plotly.newPlot("Defense_distribution", data_Defense, layout_Defense);
        Plotly.newPlot("Special_Attack_distribution", data_Special_Attack, layout_Special_Attack);
        Plotly.newPlot("Special_Defense_distribution", data_Special_Defense, layout_Special_Defense);
        Plotly.newPlot("Speed_distribution", data_Speed, layout_Speed);
      });
    </script>
  </body>
<head>
    <title>Pokemon Natures Visualization</title>
    <style>
        canvas {
            max-width: 600px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <h1>Pokemon Natures Visualization</h1>
    <canvas id="pokemonChart"></canvas>
    <script>
        // 获取Pokemon数据集中的六列数值
        // 这里假设你已经将数据存储在一个名为pokemonData的数组中
        var tiers = pokemonData.map(function(item) {
            return item.Tier;
        });
        var hp = pokemonData.map(function(item) {
            return item.HP;
        });
        var attack = pokemonData.map(function(item) {
            return item.Attack;
        });
        var defense = pokemonData.map(function(item) {
            return item.Defense;
        });
        var specialAttack = pokemonData.map(function(item) {
            return item['Special Attack'];
        });
        var specialDefense = pokemonData.map(function(item) {
            return item['Special Defense'];
        });
        var speed = pokemonData.map(function(item) {
            return item.Speed;
        });
        
        // 创建数据集
        var data = {
            labels: tiers,
            datasets: [
                { label: 'HP', data: hp, backgroundColor: 'rgba(255, 99, 132, 0.5)' },
                { label: 'Attack', data: attack, backgroundColor: 'rgba(54, 162, 235, 0.5)' },
                { label: 'Defense', data: defense, backgroundColor: 'rgba(75, 192, 192, 0.5)' },
                { label: 'Special Attack', data: specialAttack, backgroundColor: 'rgba(255, 206, 86, 0.5)' },
                { label: 'Special Defense', data: specialDefense, backgroundColor: 'rgba(153, 102, 255, 0.5)' },
                { label: 'Speed', data: speed, backgroundColor: 'rgba(255, 159, 64, 0.5)' }
            ]
        };
        
        // 创建图表
        var ctx = document.getElementById('pokemonChart').getContext('2d');
        var chart = new Chart(ctx, {
            type: 'bar',
            data: data,
            options: {
                responsive: true,
                scales: {
                    x: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Tier'
                        }
                    },
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Value'
                        }
                    }
                }
            }
        });
    </script>
</body>



<script type="module">
    // Load the Observable runtime and inspector.
    import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";

    // Your notebook, compiled as an ES module.
    import notebook from "https://api.observablehq.com/@avariengien/tennis-tournaments.js?v=3";

    // Load the notebook, observing its cells with a default Inspector
    // that simply renders the value of each cell into the provided DOM node.

    new Runtime().module(notebook, name => {
    console.log(name)
    if (name === "MainCell") {
        return new Inspector(document.querySelector("#MapDiv"));
    }
    if (name === "OptionPanel") {
        return new Inspector(document.querySelector("#OptionPannel"));
    }
        return true;
    });
</script>

<br><br>
<script> //for the tutorial pannel
    $( function() {
      $( "#dialog" ).dialog({
        autoOpen: false,
        show: {
          effect: "blind",
          duration: 100
        },
        hide: {
          effect: "blind",
          duration: 100
        },
        width: 1000
      });
   
      $( "#opener" ).on( "click", function() {
        $( "#dialog" ).dialog( "open" );
      });
    } );
  </script>